<odoo>
    <data>
        <template id="homepage" name="Trademeda Homepage">
         <xpath expr="." position="inside">
            <link rel="stylesheet" type="text/css" href="/trademeda/static/src/css/homepage.css"/>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
        </xpath>
            <!-- <t t-call="website.layout"> -->
                <t t-call="trademeda.header">
                
                </t>
                <script>
                    function main_clicked(element){
                        document.getElementsByClassName('category-products').display = 'none'
                    }
                </script>
                <main onclick="main_clicked(this)">
                    <div class="main-content">
                        <div class="left-sidebar">
                            <h2>Top Categories</h2>
                            <t t-foreach="env['product.subcategories'].sudo().search([],limit=10)" t-as="category">
                                <div onmouseover="show_products(this)" class="category-item" style="cursor:pointer;">
                                    <!-- <i t-out="category.x_studio_icon"></i> -->
                                    <!-- <img t-attf-src="data:image/png; base64, {{category.x_studio_icon}}" class="icons"/> -->
                                    <t t-out="category.name"/>
                                    <t t-foreach="category.subsubcategories_lines" t-as="product">
                                        
                                        <div class="category-products">
                                            <t t-esc="product.name"/>
                                        </div>
                                    </t>
                                </div>
                                
                            </t>
                            
                            <a href="#" class="view-all">View All Categories </a>
                        </div>
                       
                        <div class="right-container">
                        
                            <div class="container catalogs" >

                                
                                <!-- <i class="fas fa-book" style="width:50px;height:50%;"></i> -->
                                <div>
                                    <p>Trademeda Catalogs</p>
                                </div>

                                <!-- <button style="background-color:orange;border-radius:50px;height:20px;width:20px;"></button> -->
                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    <path d="M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" fill="#fff"/>
                                </svg> -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                
                                    <p style="margin-bottom: 4px;">Trademeda</p>

                                    <p style="margin-top: 0px;">Ready To Ship</p>

                                </div>

                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    <path d="M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" fill="#fff"/>
                                </svg> -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                    

                                    <p style="margin-bottom: 4px;">Trademeda</p>

                                    <p style="margin-top: 0px;">Buy Leads</p>

                                </div>

                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    <path d="M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" fill="#fff"/>
                                </svg> -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                    

                                    <p style="margin-bottom: 4px;">Trademeda</p>

                                    <p style="margin-top: 0px;">Membership Plans</p>

                                </div>

                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    <path d="M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" fill="#fff"/>
                                </svg> -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                    
                                    <p style="margin-bottom: 4px;">Trademeda</p>

                                    <p style="margin-top: 0px;">Book Domain</p>

                                </div>

                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    <path d="M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" fill="#fff"/>
                                </svg> -->

                            </div>
                            
                            <div class="right-content">
                                <div class="banner">
                                    <img src="/trademeda/static/src/img/Cover.png" alt=""/>
                                </div>
                                <div class="right-sections">
                                    <div class="rfq card">
                                        <a href="/post_rfq_page"><img src="/trademeda/static/src/img/buy.png" alt=""/></a>
                                        <!-- <p class="">Looking for a Product?</p>
                                        <button class="">Post Buy Requirement</button> -->
                                    </div>
                                    <div class="sell-product card">
                                        <a href=""><img src="/trademeda/static/src/img/sell.png" alt=""/></a>
                                        <!-- <p class="">Want To Grow Business?</p>
                                        <button class="">Sell on Trademeda</button> -->
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="tabs">
                        <span id="tab1" onclick="showBuyers(this)" class="tab active">Buyers</span>
                        <span id="tab2" onclick="showSuppliers(this)" class="tab">Suppliers</span>
                    </div>
                    <t t-foreach="env['product.subcategories'].sudo().search([('name','ilike','Agri')],limit=5)" t-as="subcategory">
                        <div class="rfq-container">
                            <div class="rfq-container-header">
                                <h2><t t-esc="subcategory.name" /></h2>
                                <button onclick="getProductsByCategory(this)" t-att-subcategoryName="subcategory.name" class="btn-seeMore">See More</button>
                            </div>
                    
                            <div id="buyers-tab" class="rfq-list content active">
                                <t t-foreach="env['trademeda.rfq'].sudo().search([('subcategory.id','=',subcategory.id)],limit=4)" t-as="rfq">
                                    <div class="rfq-card">
                                        <div class="rfq-heading">
                                            <a t-attf-href="/view_rfq/{{rfq.id}}" ><h3 class="">REQUIRED:<t t-esc="rfq.product_name"/></h3></a>
                                        </div>
                                        <div class="rfq-subheading">
                                            <b><p>Buyer From <t t-esc="rfq.partner_id.country_id.name"/></p></b>
                                            <p class="" style="color:grey;"><t t-esc="rfq.create_date.strftime('%d-%b-%Y')"/></p>
                                        </div>
                                        <div class="rfq-content">
                                            <p class="">Destination: <t t-esc="rfq.destination.name"/></p>
                                            <p><t t-esc="rfq.product_description"/></p>
                                        </div>
                                        <div class="rfq-buttons">
                                            <button class="btn-wishlist">Add to Wishlist</button>
                                            <button class="btn-enquire">Enquire Now</button>
                                        </div>
                                    </div>
                                </t>

                                
                            </div>
                            

                            <div id="suppliers-tab" class="supplier-container content">
                                <t t-foreach="env['product.customer.images'].sudo().search([('product_id.subcategory_id.id','=',subcategory.id)],limit=4)" t-as="product">
                                    
                                
                                    <div class="product-card">
                                        <div class="product-image">
                                            <img t-att-src="'data:image/png;base64,' + product.product_image.decode('utf-8')" alt="Product Image" class="product-image"/>

                                        </div>
                                        <div class="product-info">
                                            <div class="product-header">
                                                <div class="product-title">
                                                    <span class="flag-icon"></span>
                                                    <h2><a style="color:rgb(212, 37, 5);text-decoration:none;cursor:pointer;" t-attf-href="/product/{{product.id}}"><t t-esc="product.product_name"/></a></h2>
                                                </div>
                                                <div class="status-icons">
                                                    <span class="status-icon"></span>
                                                    <span class="info-icon"></span>
                                                </div>
                                            </div>
                                            <div class="product-supplier">
                                                <b><a t-attf-href="/profile/supplier" style="color:rgb(212, 37, 5);text-decoration:underline;cursor:pointer;"><t t-esc="product.partner_id.name"/></a></b>
                                                <p><strong>Supplier From :</strong> <t t-esc="product.partner_id.country_id.name"/></p>
                                                <div class="rating">
                                                    <span>⭐⭐⭐⭐⭐</span>
                                                </div>
                                            </div>
                                            <div class="product-description">
                                                <p><t t-esc="product.product_description"/></p>
                                            </div>
                                            <div class="product-actions">
                                                <button class="favourites-button">Add To Favourites</button>
                                                <button class="enquiry-button">Enquire Now</button>
                                            </div>
                                        </div>
                                        <div class="product-date">
                                            <p><t t-esc="product.create_date.strftime('%d-%b-%Y')"/></p>
                                        </div>
                                    </div>
                                </t>
                            </div>

                            
                        </div>
                    </t>
                    
                    
                </main>

                <footer>
                    <div class="container">
                        <p>2023 Trademeda. All rights reserved.</p>
                    </div>
                </footer>
                <script>
                    
                    function showBuyers(element){
                        element.classList.add('active');
                        element.nextElementSibling.classList.remove('active');

                        const rfqtabs = document.getElementsByClassName('rfq-list');
                        const suppliers = document.getElementsByClassName('supplier-container');

                        // Convert HTMLCollection to Array and use forEach
                        Array.from(suppliers).forEach(function(c) { 
                            c.style.display = 'none'; 
                        });
                        Array.from(rfqtabs).forEach(function(c) { 
                            c.style.display = 'flex'; 
                        });

                    }
                    function showSuppliers(element){
                        element.classList.add('active');
                        element.previousElementSibling.classList.remove('active');

                        const rfqtabs = document.getElementsByClassName('rfq-list');
                        const suppliers = document.getElementsByClassName('supplier-container');

                        // Convert HTMLCollection to Array and use forEach
                        Array.from(suppliers).forEach(function(c) { 
                            c.style.display = 'flex'; 
                        });
                        Array.from(rfqtabs).forEach(function(c) { 
                            c.style.display = 'none'; 
                        });

                    }
                    function show_products(element){
                        element.children[1].style.display = 'none'
                    }
                    function getProductsByCategory(element){
                        const searchQuery = element.getAttribute('subcategoryName')
                        if(searchQuery != null){

                                window.location.href = '/findSuppliersByCategory/'+searchQuery
                            }
                    }
                    showBuyers(document.getElementById('tab1'))
                </script>
            <!-- </t> -->
        </template>
    </data>
</odoo>