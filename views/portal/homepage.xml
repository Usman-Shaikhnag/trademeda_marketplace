<odoo>
    <data>
        <template id="homepage" name="Trademeda Homepage">
         <xpath expr="." position="inside">
            <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
            <link href="https://fonts.cdnfonts.com/css/helvetica-neue-55" rel="stylesheet"/>
            <link href="https://fonts.cdnfonts.com/css/avenir" rel="stylesheet"/> 
            <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&amp;display=swap" rel="stylesheet"/>  
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
            <link rel="stylesheet" type="text/css" href="/trademeda/static/src/css/homepage.css"/>
        </xpath>
            <!-- <t t-call="website.layout"> -->
                <t t-call="trademeda.header">
                
                </t>
                <script>
                    function main_clicked(element){
                        document.getElementsByClassName('category-products').display = 'none'
                    }
                </script>
                <main onclick="main_clicked(this)">
                    <div class="main-content">
                        <div class="left-sidebar">
                            <h2>Top Categories</h2>
                            <t t-foreach="env['product.subcategories'].sudo().search([],limit=13,order='ranking')" t-as="category">
                                <div>
                                    <div onclick="show_categories(this)" t-att-category="category.name" onmouseover="show_products(this)" onmouseout="hide_products(this)" class="category-item" style="cursor:pointer;">
                                    
                                        <t t-if="category.icon">
                                            <!-- <img t-att-src="('data:image/' + ('jpeg' if category.icon.endswith('.jpeg') or category.icon.endswith('.jpg')  else 'png') + ';base64,' + category.icon.decode('utf-8'))" class="icons"/> -->
                                            <img t-attf-src="data:image/png; base64, {{category.icon}}" class="icons"/>
                                        </t>
                                        <span><t t-out="category.name"/></span>
                                    </div>
                                    <div class="outer-product-container" >
                                        <div><h3 style="color: #f89623;"><t t-out="category.name"/></h3></div>
                                        <t t-foreach="env['product.template'].sudo().search([('subcategory_id.id','=',category.id)],limit=20)" t-as="product">
                                           
                                                <a t-attf-href="/findSuppliers/{{product.name}}"><t t-esc="product.name"/></a>
                                        </t>
                                        <a t-attf-href="/categories/{{category.id}}" style="text-decoration:underline;color:f89623;">See more</a>
                                    </div>
                                </div>
                                
                            </t>
                            
                            <a href="/categories" class="view-all">View All Categories </a>
                        </div>
                       
                        <div class="right-container">
                        
                            <div class="container catalogs" >

                                
                                <!-- <i class="fas fa-book" style="width:50px;height:50%;"></i> -->
                                <div>
                                    <p class=""><a style="color:inherit;text-decoration:none;" t-attf-href="/post_rfq_page">Post Buy Requirements</a></p>
                                </div>

                                <!-- <button style="background-color:orange;border-radius:50px;height:20px;width:20px;"></button> -->
                                <a t-attf-href="/post_rfq_page"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    &gt;
                                </svg></a>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <!-- <div onclick="open_readytobuy(this)" style="cursor:pointer;">

                                
                                    <p style="margin-bottom: 4px;">Trademeda</p>

                                    <p style="margin-top: 0px;cursor:pointer;">Ready To Buy</p>

                                </div> -->
                                <div style="cursor:pointer;">

                                

                                    <p class=""><a style="color:inherit;text-decoration:none;" t-attf-href="/profile">Post Sell Offers</a></p>

                                </div>

                                <a t-attf-href="/profile"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    &gt;
                                </svg></a>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div onclick="open_readytobuy(this)" style="cursor:pointer;">

                                    <p> </p>
                                    <p style="margin-top: 0px;cursor:pointer;">Ready To Buy</p>

                                </div>

                                <a t-attf-href="/readytobuy"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    &gt;
                                </svg></a>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                    <p> </p>
                                    
                                    <a t-attf-href="/membershipPlans" style="color: inherit; text-decoration: none;"><p style="margin-top: 0px;">Membership Plans</p></a>

                                </div>

                                <a t-attf-href="/membershipPlans"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    &gt;
                                </svg></a>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="50" viewBox="0 0 16 50">
                                    <line x1="8" y1="0" x2="8" y2="50" stroke="white" stroke-width="2"/>
                                </svg>

                                <div>

                                    
                                    <p class=""><a style="color:inherit;text-decoration:none;" t-attf-href="/advertisingPlans">Advertise with us</a></p>


                                </div>

                                <a t-attf-href="/advertisingPlans"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="hsl(32.4, 91.5%, 53.9%)" class="bi bi-chevron-right" viewBox="0 0 16 16">
                                    <circle cx="8" cy="8" r="8" fill="hsl(32.4, 91.5%, 53.9%)"/>
                                    &gt;
                                </svg></a>

                            </div>
                            
                            <div class="right-content">
                                <div class="banner">
                                    <button class="control-buttons" id="banner-slide-left">&lt;</button>

                                    <div class="banner-track">
                                        <t t-foreach="env['trademeda.banners'].sudo().search([], order='slide_no')" t-as="banner">
                                            <t t-if="banner.get_image_src()">
                                                <div class="banner-slide">
                                                    <img t-att-src="banner.get_image_src()" alt="Banner Image" class="banner-image"/>
                                                    <span class="banner-partner-name"><a style="text-decoration:none;color:inhrerit;" t-attf-href="/profile/supplier/{{banner.partner_id.id}}"><t t-esc="banner.partner_id.name"/></a></span>
                                                </div>
                                            </t>
                                        </t>
                                    </div>

                                    <button class="control-buttons" id="banner-slide-right">&gt;</button>
                                </div>
                                <!-- <div class="right-sections">
                                    <div class="rfq card">
                                        <a href="/post_rfq_page"><img src="/trademeda/static/src/img/buy.png" alt=""/></a>

                                    </div>
                                    <div class="sell-product card">
                                        <a href=""><img src="/trademeda/static/src/img/sell.png" alt=""/></a>

                                    </div>
                                </div> -->

                            </div>
                        </div>
                    </div>
                    <div class="flex-between">
                        <h2 class="featured-products-title">Discover More Values</h2>
                    </div>
                    <div class="more-values">
                        <div class="values-container">
                            <div class="value-card">
                                <b><p class=""><a t-attf-href="/forum">Discussion Forum</a></p></b>
                            </div>
                            <!-- <div class="value-card">
                                <b><p class=""><a t-attf-href="/post_rfq_page">Post Buy Requirements</a></p></b>
                            </div> -->
                            <div class="value-card">
                                <b><p class=""><a t-attf-href="/profile">Sell on Trademeda</a></p></b>
                            </div>
                            <div class="value-card">
                                <b><p class="">Mission and Vision</p></b>
                            </div>
                            <div class="value-card">
                                <b><p class="">Trademeda company brochure</p></b>
                            </div>
                            <div class="value-card">
                                <a t-attf-href="#"><b><p class="">Frequently Asked Questions</p></b></a>
                            </div>
                        </div>
                    </div>
                    <div class="tabs">
                        <span id="tab1" onclick="showBuyers(this)" class="tab active">Buyers</span>
                        <span id="tab2" onclick="showSuppliers(this)" class="tab">Suppliers</span>
                    </div>
                    <t t-foreach="env['product.subcategories'].sudo().search([],limit=5,order='ranking')" t-as="subcategory">
                        <div class="rfq-container">
                            <div class="rfq-container-header">
                                <h2><t t-esc="subcategory.name" /></h2>
                                <button onclick="getProductsByCategory(this)" t-att-subcategoryName="subcategory.name" class="btn-seeMore">See More</button>
                            </div>
                    
                            <div id="buyers-tab" class="rfq-list content active">
                                <t t-foreach="env['trademeda.rfq'].sudo().search([('subcategory.id','=',subcategory.id)],limit=4)" t-as="rfq">
                                    <t t-if="rfq.state == 'active'">
                                        <div class="rfq-card">
                                            <div class="rfq-heading">
                                                <a t-attf-href="/view_rfq/{{rfq.id}}" ><h3 class="">REQUIRED:<t t-esc="rfq.product_name"/></h3></a>
                                            </div>
                                            <div class="rfq-subheading">
                                                <b><p><img t-att-src="rfq.partner_id.country_id.image_url" alt="" style="height:0.9rem;"/> Buyer From <t t-esc="rfq.partner_id.country_id.name"/></p></b>
                                                <p class="" style="color:grey;"><t t-esc="rfq.create_date.strftime('%d-%b-%Y')"/></p>
                                            </div>
                                            <div class="rfq-content">
                                                <p class="">Destination: <t t-esc="rfq.destination.name"/></p>
                                                <p><t t-esc="rfq.product_description"/></p>
                                            </div>
                                            <div class="rfq-buttons">
                                                <button class="btn-wishlist">Add to Wishlist</button>
                                                <a t-attf-href="/view_rfq/{{rfq.id}}"><button class="btn-enquire">Enquire Now</button></a>
                                            </div>
                                        </div>
                                    </t>
                                </t>

                                
                            </div>
                            

                            <div id="suppliers-tab" class="supplier-container content">
                                <t t-foreach="env['product.customer.images'].sudo().search([('product_id.subcategory_id.id','=',subcategory.id)],limit=4)" t-as="product">
                                    
                                
                                    <div class="product-card">
                                        <div class="product-image">
                                            <img t-att-src="'data:image/png;base64,' + product.product_image.decode('utf-8')" alt="Product Image" class="product-image"/>

                                        </div>
                                        <div class="product-info">
                                            <div class="product-header">
                                                <div class="product-title">
                                                    <span class="flag-icon"></span>
                                                    <h2><a style="color:rgb(212, 37, 5);text-decoration:none;cursor:pointer;" t-attf-href="/product/{{product.id}}"><t t-esc="product.product_name"/></a></h2>
                                                </div>
                                                <div class="status-icons">
                                                    <span class="status-icon"></span>
                                                    <span class="info-icon"></span>
                                                </div>
                                            </div>
                                            <div class="product-supplier">
                                                <b><a t-attf-href="/profile/supplier/{{product.partner_id.id}}" style="color:rgb(212, 37, 5);text-decoration:underline;cursor:pointer;"><t t-esc="product.partner_id.name"/></a></b>
                                                <p><strong>Supplier From :</strong> <t t-esc="product.partner_id.country_id.name"/></p>
                                                <div class="rating">
                                                    <span>⭐⭐⭐⭐⭐</span>
                                                </div>
                                            </div>
                                            <div class="product-description">
                                                <p><t t-esc="product.product_description"/></p>
                                            </div>
                                            <div class="product-actions">
                                                <button onclick="add_to_wishlist(this)" t-att-data-product-id="product.id"  class="favourites-button">Add To Favourites</button>
                                                <button class="enquiry-button">Enquire Now</button>
                                            </div>
                                        </div>
                                        <div class="product-date">
                                            <p><t t-esc="product.create_date.strftime('%d-%b-%Y')"/></p>
                                        </div>
                                    </div>
                                </t>
                            </div>

                            
                        </div>
                    </t>

                    <!-- Featured Products  -->
                    <div class="flex-between">
                        <h2 class="featured-products-title">Featured Products</h2>
                        <button class="control-buttons"><a t-attf-href="/featuredProducts">See More</a></button>
                    </div>
                    <div class="featured-products-container">
                        <button class="control-buttons" id="featured-slide-left">&lt;</button>
                        <div class="featured-products">
                            <!-- <t t-foreach="env['product.customer.images'].sudo().search([('product_name','!=','')],order='create_date desc',limit=5)" t-as="product"> -->
                                
                            <t t-foreach="env['product.customer.images'].sudo().search([],order='views desc')" t-as="product">
                                <div class="featured-product">
                                    <img t-att-src="'data:image/png;base64,' + product.product_image.decode('utf-8')" alt="Product Image"/>
                                    <div class="">
                                        <h4><a t-attf-href="/product/{{product.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.product_name"/></a></h4>
                                        <span class=""><a t-attf-href="/profile/supplier/{{product.partner_id.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.partner_id.name"/></a></span>
                                    </div>

                                </div>
                            </t>
                        </div>
                        
                        <button class="control-buttons" id="featured-slide-right">&gt;</button>
                    </div>

                    <!-- New Arrivals  -->
                    <div class="flex-between">

                        <h2 class="new-arrival">New Arrivals</h2>
                        <button class="control-buttons"><a t-attf-href="/newArrivals">See More</a></button>
                    </div>
                    <div class="new-arrival-container">
                        <button class="control-buttons" id="slide-left">&lt;</button>
                        <div class="new-products">
                            <!-- <t t-foreach="env['product.customer.images'].sudo().search([('product_name','!=','')],order='create_date desc',limit=5)" t-as="product"> -->
                                
                            <t t-foreach="env['product.customer.images'].sudo().search([])" t-as="product">
                                <div class="new-arrival-product">
                                    <img t-att-src="'data:image/png;base64,' + product.product_image.decode('utf-8')" alt="Product Image"/>
                                    <div class="">
                                        <h4><a t-attf-href="/product/{{product.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.product_name"/></a></h4>
                                        <span class=""><a t-attf-href="/profile/supplier/{{product.partner_id.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.partner_id.name"/></a></span>
                                    </div>

                                </div>
                            </t>
                        </div>
                        
                        <button class="control-buttons" id="slide-right">&gt;</button>
                    </div>

                    <!-- Ready to Buy  -->
                    <div class="flex-between">
                        <h2 class="ready-to-buy">Ready to Buy</h2>
                        <button onclick="open_readytobuy(this)" class="control-buttons">See More</button>
                    </div>
                    <div class="ready-to-buy-container">
                        <button class="control-buttons" id="ready-to-buy-slide-left">&lt;</button>
                        <div class="ready-to-buy-products">
                            <!-- <t t-foreach="env['product.customer.images'].sudo().search([('product_name','!=','')],order='create_date desc',limit=5)" t-as="product"> -->
                                
                            <t t-foreach="env['product.customer.images'].sudo().search([('ready_to_ship','=',True)],order='views desc',limit=10)" t-as="product">
                                <div class="ready-to-buy-product">
                                    <img t-att-src="'data:image/png;base64,' + product.product_image.decode('utf-8')" alt="Product Image"/>
                                    <div class="">
                                        <h4><a t-attf-href="/product/{{product.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.product_name"/></a></h4>
                                        <span class=""><a t-attf-href="/profile/supplier/{{product.partner_id.id}}" style="color: inherit; text-decoration: none;"><t t-esc="product.partner_id.name"/></a></span>
                                    </div>

                                </div>
                            </t>
                        </div>
                        
                        <button class="control-buttons" id="ready-to-buy-slide-right">&gt;</button>
                    </div>

                    <!-- suppliers by country  -->
                    <div class="flex-between">
                        <h2 class="ready-to-buy" style="margin-bottom: 0;">Buyers And Suppliers By Country</h2>

                    </div>
                    <div class="flex-between">

                        <div class="tabs">
                            <button id="countryTab1" onclick="showBuyersCountry(this)" class="tab active">Buyers</button>
                            <button id="countryTab2" onclick="showSuppliersCountry(this)" class="tab">Suppliers</button>
                        </div>
                        <button class="control-buttons"><a t-attf-href="/countries">See More</a></button>

                    </div>
                    <div class="country-container">
                        <div id="buyers-country-tab" class="buyer-contries content active">
                            <t t-set="countries_with_suppliers" t-value="[]"/>
                            <t t-foreach="env['res.country'].sudo().search([])" t-as="country">
                                <t t-set="supplier_count" t-value="env['res.partner'].sudo().search_count([('country_id', '=', country.id), ('member_type', 'in', ['buyer', 'both'])])"/>
                                <t t-set="countries_with_suppliers" t-value="countries_with_suppliers + [(country, supplier_count)]"/>
                            </t>

                            <t t-set="sorted_countries_with_suppliers" t-value="sorted(countries_with_suppliers, key=lambda x: x[1], reverse=True)[:12]"/>

                            <div class="countries-container">
                                <t t-foreach="sorted_countries_with_suppliers" t-as="country_tuple">
                                    <div class="country">
                                        <img t-att-src="country_tuple[0].image_url" alt="" style="height:0.9rem;"/>
                                        <a t-attf-href="/findBuyers/country/{{country_tuple[0].id}}"><t t-esc="country_tuple[0].name"/></a>
                                    </div>
                                </t>
                            </div>
                        </div>
                        <div id="suppliers-country-tab" class="supplier-contries content">
                            <t t-set="countries_with_suppliers" t-value="[]"/>
                            <t t-foreach="env['res.country'].sudo().search([])" t-as="country">
                                <t t-set="supplier_count" t-value="env['res.partner'].sudo().search_count([('country_id', '=', country.id), ('member_type', 'in', ['seller', 'both'])])"/>
                                <t t-set="countries_with_suppliers" t-value="countries_with_suppliers + [(country, supplier_count)]"/>
                            </t>

                            <t t-set="sorted_countries_with_suppliers" t-value="sorted(countries_with_suppliers, key=lambda x: x[1], reverse=True)[:12]"/>

                            <div class="countries-container">
                                <t t-foreach="sorted_countries_with_suppliers" t-as="country_tuple">
                                    <div class="country">
                                        <img t-att-src="country_tuple[0].image_url" alt="" style="height:0.9rem;"/>
                                        <a t-attf-href="/findSuppliers/country/{{country_tuple[0].id}}"><t t-esc="country_tuple[0].name"/></a>
                                    </div>
                                </t>
                            </div>
                        </div>
                    </div>


                    <!-- Popular Products  -->
                    <div class="flex-between">
                        <h2 class="ready-to-buy" style="margin-bottom: 0;">Popular Products</h2>
                        
                    </div>

                    <div class="popular-products">
                        <t t-set="rfq_counts" t-value="env['trademeda.rfq'].sudo().read_group(
                            domain=[('product_subsubcategory', '!=', False)],
                            fields=['product_subsubcategory', 'product_subsubcategory_count:count(product_subsubcategory)'],
                            groupby=['product_subsubcategory'],
                            orderby='product_subsubcategory_count desc')"/>
                        

                        <t t-foreach="rfq_counts" t-as="rfq">
                            <t t-set="product" t-value="env['product.template'].sudo().browse(rfq['product_subsubcategory'][0])"/>
                            <div class="popular_product">
                                <h4><a t-attf-href="/findBuyers/{{product.name}}"><t t-esc="product.name"/></a></h4>
                                <!-- Display other product details -->
                            </div>
                        </t>
                    </div>


                    <!-- New Arrivals  -->
                    <div class="flex-between">

                        <h2 class="new-arrival">Our Customers Testimonies</h2>

                    </div>
                    <div class="customer-testimonies">
                        <t t-foreach="env['customer.testimony'].sudo().search([('display','=',True)])" t-as="testimony">
                            <div class="testimony">
                                <div class="testimony-top">
                                    <span class="quote-icon">“</span>
                                    <!-- <img t-att-src="'data:image/png;base64,' + testimony.partner_id.image_1920.decode('utf-8')" alt="Customer Photo" class="customer-photo"/> -->
                                </div>
                                <div class="testimony-contents">
                                    <span class="customer-name"><t t-esc="testimony.partner_id.name"/></span>
                                    <div t-att-stars="testimony.rating" class="rating">
                                        <span></span>
                                    </div>
                                    <span class="testimony-text">
                                        <t t-if="len(testimony.testimony) &gt; 100">
                                            <t t-esc="testimony.testimony[:100]"/>...
                                            <a href="#" class="see-more" onclick="showFullTestimony(this)">See More</a>
                                            <span class="full-text" style="display:none;">
                                                <t t-esc="testimony.testimony"/>
                                            </span>
                                        </t>
                                        <t t-else="">
                                            <t t-esc="testimony.testimony"/>
                                        </t>
                                    </span>
                                    <div class="social-links">
                                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                    <div class="mobile-app">
                        <img src="/trademeda/static/src/img/M46.jpg" alt=""/>
                    </div>
                   
                    
                    
                </main>

                <t t-call="trademeda.footer"/>
                
                <script>

                    document.addEventListener('DOMContentLoaded', function() {
                    var track = document.querySelector('.banner-track');
                    var slides = Array.from(track.children);
                    var nextButton = document.querySelector('#banner-slide-right');
                    var prevButton = document.querySelector('#banner-slide-left');
                    var currentSlide = 0;

                    function updateSlidePosition() {
                        track.style.transform = 'translateX(-' + (currentSlide * 100) + '%)';
                    }

                    function nextSlide() {
                        if (currentSlide &lt; slides.length - 1) {
                            currentSlide++;
                        } else {
                            currentSlide = 0;  // Loop back to the first slide
                        }
                        updateSlidePosition();
                    }

                    function prevSlide() {
                        if (currentSlide &gt; 0) {
                            currentSlide--;
                        } else {
                            currentSlide = slides.length - 1;  // Loop back to the last slide
                        }
                        updateSlidePosition();
                    }

                    nextButton.addEventListener('click', nextSlide);
                    prevButton.addEventListener('click', prevSlide);

                    // Automatically slide every 8 seconds
                    setInterval(nextSlide, 8000);
                });

                    function showFullTestimony(element) {
                        var fullText = element.nextElementSibling;  // Get the full text span
                        var parent = element.parentNode; // Get the parent span

                        if (fullText &amp;&amp; fullText.style.display === 'none') {
                            fullText.style.display = 'inline';  // Show the full text
                            element.style.display = 'none';  // Hide the "See More" link
                        }
                    }
                    
                    function showBuyers(element){
                        element.classList.add('active');
                        element.nextElementSibling.classList.remove('active');

                        const rfqtabs = document.getElementsByClassName('rfq-list');
                        const suppliers = document.getElementsByClassName('supplier-container');

                        // Convert HTMLCollection to Array and use forEach
                        Array.from(suppliers).forEach(function(c) { 
                            c.style.display = 'none'; 
                        });
                        Array.from(rfqtabs).forEach(function(c) { 
                            c.style.display = 'flex'; 
                        });

                    }
                    function showSuppliers(element){
                        element.classList.add('active');
                        element.previousElementSibling.classList.remove('active');

                        const rfqtabs = document.getElementsByClassName('rfq-list');
                        const suppliers = document.getElementsByClassName('supplier-container');

                        // Convert HTMLCollection to Array and use forEach
                        Array.from(suppliers).forEach(function(c) { 
                            c.style.display = 'flex'; 
                        });
                        Array.from(rfqtabs).forEach(function(c) { 
                            c.style.display = 'none'; 
                        });

                    }
                    function showBuyersCountry(element){
                        element.classList.add('active');
                        element.nextElementSibling.classList.remove('active');

                        document.getElementById('suppliers-country-tab').classList.remove('active');
                        document.getElementById('buyers-country-tab').classList.add('active');


                    }
                    function showSuppliersCountry(element){
                        element.classList.add('active');
                        element.previousElementSibling.classList.remove('active');

                        document.getElementById('buyers-country-tab').classList.remove('active');
                        document.getElementById('suppliers-country-tab').classList.add('active');

                    }
                    function show_products(element) {
                        // Show the product container
                        element.parentElement.children[1].style.display = 'flex';
                    }

                    function hide_products(element) {
                        // Check if the mouse is still over the product container
                        const productContainer = element.parentElement.children[1];
                        
                        // If mouse has left both the category and the product container, hide the products
                        if (!productContainer.matches(':hover')) {
                            productContainer.style.display = 'none';
                        }
                    }

                    document.querySelectorAll('.category-item').forEach(function (categoryItem) {
                        const productContainer = categoryItem.parentElement.querySelector('.outer-product-container');

                        // When the mouse enters the category item
                        categoryItem.addEventListener('mouseenter', function () {
                            show_products(categoryItem);
                        });

                        // When the mouse leaves the category item or the product container
                        categoryItem.addEventListener('mouseleave', function () {
                            hide_products(categoryItem);
                        });

                        // Prevent hiding when mouse is over the product container
                        productContainer.addEventListener('mouseenter', function () {
                            productContainer.style.display = 'flex';  // Stay visible if the mouse is over the product container
                        });

                        // Allow hiding when mouse leaves the product container
                        productContainer.addEventListener('mouseleave', function () {
                            hide_products(categoryItem);
                        });
                    });
                    <!-- function hide_products(element){
                        element.style.display = 'none'
                    } -->
                    function show_categories(element){
                        const category = element.getAttribute('category')
                        if(category != ''){
                            window.location.href = 'findSuppliersByCategory/'+category
                        }
                    }
                    function getProductsByCategory(element){
                        const searchQuery = element.getAttribute('subcategoryName')
                        if(searchQuery != null){

                                window.location.href = '/findSuppliersByCategory/'+searchQuery
                            }
                    }
                    showBuyers(document.getElementById('tab1'))

                    document.addEventListener('DOMContentLoaded', function() {
                        const leftButton1 = document.getElementById('slide-left');
                        const rightButton = document.getElementById('slide-right');
                        const newProductsContainer = document.querySelector('.new-products');
                        
                        const slideAmount = 200; // Adjust this value to control the sliding distance

                        // Slide left
                        leftButton1.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: -slideAmount,
                                behavior: 'smooth'
                            });
                        });

                        // Slide right
                        rightButton.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: slideAmount,
                                behavior: 'smooth'
                            });
                        });
                    });

                    <!-- document.addEventListener('DOMContentLoaded', function() {
                        const leftButton2 = document.getElementById('testimony-slide-left');
                        const rightButton = document.getElementById('testimony-slide-right');
                        const newProductsContainer = document.querySelector('.testimony');
                        
                        const slideAmount = 800; // Adjust this value to control the sliding distance

                        // Slide left
                        leftButton2.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: -slideAmount,
                                behavior: 'smooth'
                            });
                        });

                        // Slide right
                        rightButton.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: slideAmount,
                                behavior: 'smooth'
                            });
                        });
                    }); -->
                    document.addEventListener('DOMContentLoaded', function() {
                        document.querySelectorAll('.rating').forEach(function(el) {
                            fill_stars(el);
                        });
                    });

                    function fill_stars(element) {
                        const rating = element.getAttribute('stars')
                        console.log("Stars called",rating)
                        const roundedRating = Math.round(rating * 2) / 2; // Round to nearest 0.5
                        const starContainer = element; // Assuming 'starContainer' is your container element
                        starContainer.innerHTML = ''; // Clear existing stars

                        for (var i = 1; i &lt;= 5; i++) {
                            var star = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            star.setAttribute("width", "24");
                            star.setAttribute("height", "24");
                            star.setAttribute("viewBox", "0 0 24 24");

                            var polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                            polygon.setAttribute("points", "12,2 15,10 23,10 17,15 19,22 12,17 5,22 7,15 1,10 9,10");

                            if (i &lt;= Math.floor(roundedRating)) {
                                polygon.setAttribute("fill", "gold"); // Full star
                            } else if (i === Math.ceil(roundedRating) &amp;&amp; roundedRating % 1 !== 0) {
                                // Create a gradient for half-star
                                var defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
                                var linearGradient = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient");
                                linearGradient.setAttribute("id", "half");
                                linearGradient.setAttribute("x1", "0%");
                                linearGradient.setAttribute("x2", "100%");
                                linearGradient.setAttribute("y1", "0%");
                                linearGradient.setAttribute("y2", "0%");

                                var stop1 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                                stop1.setAttribute("offset", "50%");
                                stop1.setAttribute("stop-color", "gold");

                                var stop2 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                                stop2.setAttribute("offset", "50%");
                                stop2.setAttribute("stop-color", "gray");

                                linearGradient.appendChild(stop1);
                                linearGradient.appendChild(stop2);
                                defs.appendChild(linearGradient);
                                star.appendChild(defs);

                                polygon.setAttribute("fill", "url(#half)"); // Half star
                            } else {
                                polygon.setAttribute("fill", "gray"); // Empty star
                            }

                            star.appendChild(polygon);
                            starContainer.appendChild(star);
                        }
                    }

                    document.addEventListener('DOMContentLoaded', function() {
                        const leftButton3 = document.getElementById('featured-slide-left');
                        const rightButton = document.getElementById('featured-slide-right');
                        const newProductsContainer = document.querySelector('.featured-products');
                        
                        const slideAmount = 200; // Adjust this value to control the sliding distance

                        // Slide left
                        leftButton3.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: -slideAmount,
                                behavior: 'smooth'
                            });
                        });

                        // Slide right
                        rightButton.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: slideAmount,
                                behavior: 'smooth'
                            });
                        });
                    });

                    document.addEventListener('DOMContentLoaded', function() {
                        const leftButton4 = document.getElementById('ready-to-buy-slide-left');
                        const rightButton = document.getElementById('ready-to-buy-slide-right');
                        const newProductsContainer = document.querySelector('.ready-to-buy-products');
                        
                        const slideAmount = 300; // Adjust this value for more significant sliding

                        // Slide left
                        leftButton4.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: -slideAmount,
                                behavior: 'smooth'
                            });
                        });

                        // Slide right
                        rightButton.addEventListener('click', function() {
                            newProductsContainer.scrollBy({
                                top: 0,
                                left: slideAmount,
                                behavior: 'smooth'
                            });
                        });
                    });
                    function open_readytobuy(element){
                        window.location.href = '/readytobuy'
                    }

                    function add_to_wishlist(element){
                        var product_id = element.getAttribute('data-product-id');
                        fetch('/is_logged_in').then(function(res){
                            return res.json();
                        }).then(function(data){
                            if(data.logged_in == true){
                            fetch('/add-to-wishlist/'+product_id).then(function(res){
                                console.log("res",res)
                                element.style.display = 'none'
                            })
                            }
                            else{
                                let products = JSON.parse(localStorage.getItem('product_id')) || [];
                                if (!products.includes(product_id)) {
                                    products.push(product_id);
                                    localStorage.setItem('product_id', JSON.stringify(products));
                                }
                            }
                        })
                    }
                </script>
            <!-- </t> -->
        </template>
    </data>
</odoo>